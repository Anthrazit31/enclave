<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Phoenix Industries // Research Division</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <script>
  (function() {
      'use strict';
      
      // Sayfa yüklenir yüklenmez kontrol et
      function checkAccess() {
          // localStorage'da gerekli bilgiler var mı kontrol et
          const userIdentifier = localStorage.getItem('userIdentifier');
          const userPassword = localStorage.getItem('userPassword');
          const userType = localStorage.getItem('userType');
          const securityLevel = localStorage.getItem('securityLevel');
          
          // Eğer localStorage'da bilgiler yoksa veya boşsa (yani index.html'den giriş yapmamış)
          if (!userIdentifier || !userPassword || !userType) {
              alert('⚠️ Yetkisiz erişim! Lütfen giriş yapın.');
              window.location.replace('index.html');
              return;
          }
          
          // Session timeout kontrolü (30 dakika)
          const loginTime = localStorage.getItem('loginTime');
          if (loginTime) {
              const currentTime = new Date().getTime();
              const sessionDuration = 30 * 60 * 1000; // 30 dakika
              
              if (currentTime - parseInt(loginTime) > sessionDuration) {
                  alert('⏰ Oturum süreniz doldu. Lütfen tekrar giriş yapın.');
                  localStorage.clear();
                  window.location.replace('index.html');
                  return;
              }
          }
          
          // Eğer her şey tamam ise, login zamanını güncelle
          localStorage.setItem('loginTime', new Date().getTime().toString());
          
          // Güvenlik seviyesini kontrol et ve butonları ayarla
          window.addEventListener('DOMContentLoaded', function() {
              setSecurityBasedAccess(securityLevel);
          });
      }
      
      // Güvenlik seviyesine göre buton erişimini ayarla
      function setSecurityBasedAccess(securityLevel) {
          const securedButtons = document.querySelectorAll('[data-security]');
          
          if (securityLevel === 'low') {
              // Düşük güvenlik seviyesi (1561): Şifreli butonlara erişim yok
              securedButtons.forEach(button => {
                  button.classList.add('permanently-locked');
                  button.style.opacity = '0.3';
                  button.style.cursor = 'not-allowed';
                  button.title = 'Insufficient Security Clearance';
              });
          } else if (securityLevel === 'high') {
              // Yüksek güvenlik seviyesi (1603): Normal erişim
              securedButtons.forEach(button => {
                  button.classList.remove('permanently-locked');
              });
          }
      }
      
      // Sayfa yüklendiğinde kontrol et
      if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', checkAccess);
      } else {
          checkAccess();
      }
      
  })();
  </script>

   <style>
    :root {
      --primary: #00ff00;
      --secondary: #003300;
      --accent: #00cc00;
      --error: #ff3333;
      --bg: #000;
      --text: #00ff00;
      --transition: all 0.3s ease;
      --research: #0099ff;
      --research-dark: #003366;
      --success: #00ff00;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Share Tech Mono', monospace;
      background: var(--bg);
      color: var(--text);
      height: 100vh;
      overflow: hidden;
      position: relative;
    }
    
    /* CRT Effect - Optimized */
    .crt-effect::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        linear-gradient(rgba(0, 255, 0, 0.03) 50%, rgba(0, 0, 0, 0.1) 50%),
        linear-gradient(90deg, rgba(0, 255, 0, 0.03), rgba(0, 255, 0, 0.02), rgba(0, 255, 0, 0.03));
      background-size: 100% 3px, 3px 100%;
      pointer-events: none;
      z-index: 100;
    }
    
    .crt-effect::after {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.1);
      opacity: 0.1;
      pointer-events: none;
      z-index: 100;
      animation: flicker 0.15s infinite;
    }
    
    @keyframes flicker {
      0%, 100% { opacity: 0.1; }
      50% { opacity: 0.05; }
    }
    
    /* Intro Screen */
    .intro-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--bg);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 1500;
      opacity: 1;
      visibility: visible;
      transition: opacity 1s ease;
    }
    
    .intro-screen.fade-out {
      opacity: 0;
      visibility: hidden;
    }
    
    .intro-text {
      font-size: clamp(1.5rem, 4vw, 2.5rem);
      color: var(--research);
      text-align: center;
      margin-bottom: 20px;
      opacity: 0;
      animation: fadeInUp 1s forwards;
    }
    
    .intro-subtext {
      font-size: clamp(1rem, 3vw, 1.5rem);
      color: var(--primary);
      text-align: center;
      opacity: 0;
      animation: fadeInUp 1s 0.5s forwards;
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* Security Modal */
    .security-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 5000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 1s ease;
    }
    
    .security-modal.active {
      opacity: 1;
      visibility: visible;
    }
    
    .security-denied-text {
      font-size: clamp(2rem, 6vw, 4rem);
      color: var(--error);
      text-align: center;
      margin-bottom: 30px;
      animation: pulse-error 1s infinite;
    }
    
    .security-granted-text {
      font-size: clamp(2rem, 6vw, 4rem);
      color: var(--success);
      text-align: center;
      margin-bottom: 30px;
      animation: pulse-success 1s infinite;
      opacity: 0;
      visibility: hidden;
      transition: all 0.5s ease;
    }
    
    .security-granted-text.active {
      opacity: 1;
      visibility: visible;
    }
    
    @keyframes pulse-error {
      0%, 100% { text-shadow: 0 0 10px var(--error); }
      50% { text-shadow: 0 0 20px var(--error), 0 0 30px var(--error); }
    }
    
    @keyframes pulse-success {
      0%, 100% { text-shadow: 0 0 10px var(--success); }
      50% { text-shadow: 0 0 20px var(--success), 0 0 30px var(--success); }
    }
    
    .security-login {
      background: rgba(10, 0, 0, 0.8);
      border: 2px solid var(--error);
      padding: 30px;
      border-radius: 10px;
      text-align: center;
      opacity: 0;
      transform: scale(0.8);
      transition: all 0.5s ease;
    }
    
    .security-login.active {
      opacity: 1;
      transform: scale(1);
    }
    
    .security-title {
      color: var(--error);
      font-size: 1.5rem;
      margin-bottom: 20px;
      text-transform: uppercase;
    }
    
    .security-input {
      width: 300px;
      padding: 10px;
      background: transparent;
      border: 1px solid var(--error);
      color: var(--error);
      font-family: inherit;
      font-size: 1rem;
      margin-bottom: 15px;
      outline: none;
    }
    
    .security-input:focus {
      box-shadow: 0 0 10px var(--error);
    }
    
    .security-button {
      background: rgba(100, 0, 0, 0.3);
      border: 1px solid var(--error);
      color: var(--error);
      padding: 10px 20px;
      cursor: pointer;
      font-family: inherit;
      transition: all 0.3s ease;
    }
    
    .security-button:hover {
      background: var(--error);
      color: var(--bg);
    }
    
    .security-attempts {
      color: var(--error);
      margin-top: 10px;
      font-size: 0.9rem;
    }
    
    /* Lockdown Effects */
    .lockdown-text {
      font-size: clamp(1.5rem, 4vw, 2.5rem);
      color: var(--error);
      text-align: center;
      margin-bottom: 20px;
      animation: glitch-text-error 0.5s infinite;
    }
    
    @keyframes glitch-text-error {
      0%, 90%, 100% { transform: translate(0); }
      20% { transform: translate(-2px, 2px); }
      40% { transform: translate(-2px, -2px); }
      60% { transform: translate(2px, 2px); }
      80% { transform: translate(2px, -2px); }
    }
    
    .typing-delete {
      border-right: 2px solid var(--error);
      animation: typing-reverse 2s steps(40, end) forwards, blink-caret-error 0.75s step-end infinite;
      position: relative;
    }
    
    /* Fixed typing deletion to prevent outline issues */
    .typing-delete::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--bg);
      z-index: 1;
    }
    
    @keyframes typing-reverse {
      from { width: 100%; }
      to { width: 0; }
    }
    
    @keyframes blink-caret-error {
      from, to { border-color: transparent; }
      50% { border-color: var(--error); }
    }
    
    .scramble-text {
      animation: scramble 0.1s infinite;
    }
    
    @keyframes scramble {
      0% { content: attr(data-original); }
      10% { content: "xK9$mP#qR@"; }
      20% { content: "7&nVbC*uI%"; }
      30% { content: "2+wErT!oP^"; }
      40% { content: "F#gHjK@lM&"; }
      50% { content: "8*qWeR$tY%"; }
      60% { content: "3^aSdF#gH*"; }
      70% { content: "5&jKlM@nB%"; }
      80% { content: "9*pOiU#yT^"; }
      90% { content: "4&rEwQ@sD*"; }
      100% { content: "[REDACTED]"; }
    }
    
    .button-lockdown {
      opacity: 1;
      transition: opacity 1s ease;
    }
    
    .button-lockdown.locked {
      opacity: 0;
      pointer-events: none;
    }
    
    /* Permanently locked buttons for low security clearance */
    .permanently-locked {
      opacity: 0.3 !important;
      cursor: not-allowed !important;
      pointer-events: none !important;
      background: rgba(255, 0, 0, 0.1) !important;
      border-color: var(--error) !important;
      color: var(--error) !important;
    }
    
    /* Button Cooldown */
    .system-button.cooldown {
      opacity: 0.5;
      cursor: not-allowed;
      pointer-events: none;
    }
    
    /* Main Content */
    .main-content {
      padding: 20px;
      height: 100vh;
      opacity: 0;
      visibility: hidden;
      transition: var(--transition);
      overflow-y: auto;
    }
    
    .main-content.active {
      opacity: 1;
      visibility: visible;
    }
    
    /* Research Header */
    .research-header {
      border: 1px solid var(--research);
      padding: 15px;
      margin-bottom: 20px;
      background: rgba(0, 153, 255, 0.1);
      text-align: center;
    }
    
    .research-title {
      font-size: 1.5rem;
      color: var(--research);
      margin-bottom: 10px;
      text-transform: uppercase;
      animation: pulse-blue 2s infinite;
    }
    
    @keyframes pulse-blue {
      0%, 100% { text-shadow: 0 0 10px var(--research); }
      50% { text-shadow: 0 0 20px var(--research), 0 0 30px var(--research); }
    }
    
    /* Terminal */
    .terminal {
      border: 1px solid var(--research);
      padding: 15px;
      margin-bottom: 20px;
      background: rgba(0, 153, 255, 0.1);
      position: relative;
      min-height: 200px;
    }
    
    .terminal::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--research), transparent);
      animation: scanline 8s linear infinite;
    }
    
    @keyframes scanline {
      0% { top: 0; }
      100% { top: 100%; }
    }
    
    .terminal-line {
      margin: 0.5rem 0;
      white-space: nowrap;
      overflow: hidden;
      border-right: 2px solid var(--research);
      color: var(--research);
      animation: typing 3.5s steps(40, end), blink-caret-blue 0.75s step-end infinite;
      position: relative;
    }
    
    /* Fixed glitch effect to prevent overlapping */
    .terminal-line.scrambling {
      border-right: none;
      animation: none;
    }
    
    .terminal-line.scrambling::before,
    .terminal-line.scrambling::after {
      display: none;
    }
    
    @keyframes typing {
      from { width: 0; }
      to { width: 100%; }
    }
    
    @keyframes blink-caret-blue {
      from, to { border-color: transparent; }
      50% { border-color: var(--research); }
    }
    
    /* Research Glitch Effect - Fixed */
    .research-glitch {
      position: relative;
    }
    
    .research-glitch::after {
      content: attr(data-text);
      position: absolute;
      left: 2px;
      text-shadow: -2px 0 var(--error);
      top: 0;
      color: var(--research);
      background: var(--bg);
      overflow: hidden;
      clip-path: polygon(0 0, 100% 0, 100% 30%, 0 30%);
      animation: research-glitch-anim 5s infinite alternate;
    }
    
    .research-glitch.scrambling::after {
      display: none;
    }
    
    @keyframes research-glitch-anim {
      0% { clip-path: polygon(0 0, 100% 0, 100% 30%, 0 30%); }
      20% { clip-path: polygon(0 70%, 100% 70%, 100% 100%, 0 100%); }
      40% { clip-path: polygon(0 30%, 100% 30%, 100% 60%, 0 60%); }
      60% { clip-path: polygon(0 50%, 100% 50%, 100% 80%, 0 80%); }
      80% { clip-path: polygon(0 10%, 100% 10%, 100% 40%, 0 40%); }
      100% { clip-path: polygon(0 90%, 100% 90%, 100% 100%, 0 100%); }
    }
    
    /* Button Panel */
    .button-panel {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 15px;
      margin-bottom: 20px;
    }
    
    .system-button {
      background: var(--research-dark);
      border: 1px solid var(--research);
      color: var(--research);
      padding: 12px;
      cursor: pointer;
      text-transform: uppercase;
      transition: var(--transition);
      font-size: 0.9rem;
      text-align: center;
      font-family: inherit;
    }
    
    .system-button:hover:not(.permanently-locked):not(.cooldown) {
      background: var(--research);
      color: var(--bg);
      box-shadow: 0 0 15px var(--research);
    }
    
    .system-button.locked {
      opacity: 0.3;
      cursor: not-allowed;
    }
    
    /* Shutdown Button */
    .shutdown-button {
      background: var(--secondary);
      border: 1px solid var(--error);
      color: var(--error);
      padding: 12px;
      cursor: pointer;
      text-transform: uppercase;
      transition: var(--transition);
      font-size: 0.9rem;
      text-align: center;
      font-family: inherit;
      grid-column: span 2;
    }
    
    .shutdown-button:hover {
      background: var(--error);
      color: var(--bg);
      box-shadow: 0 0 15px var(--error);
    }
    
    /* Shutdown Screen */
    .shutdown-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--bg);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 1s ease;
    }
    
    .shutdown-screen.active {
      opacity: 1;
      visibility: visible;
    }
    
    .shutdown-text {
      font-size: clamp(2rem, 6vw, 4rem);
      color: var(--error);
      text-align: center;
      margin-bottom: 30px;
      animation: pulse-error 1s infinite;
    }
    
    .shutdown-progress {
      width: 300px;
      height: 20px;
      border: 1px solid var(--error);
      margin-top: 20px;
      position: relative;
      overflow: hidden;
    }
    
    .shutdown-progress-bar {
      height: 100%;
      background: var(--error);
      width: 0;
      animation: shutdown-progress-anim 3s linear forwards;
    }
    
    @keyframes shutdown-progress-anim {
      0% { width: 0; }
      100% { width: 100%; }
    }
    
    /* Modal */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      opacity: 0;
      visibility: hidden;
      transition: var(--transition);
    }
    
    .modal.active {
      opacity: 1;
      visibility: visible;
    }
    
    .modal-content {
      background: rgba(0, 10, 30, 0.95);
      border: 1px solid var(--research);
      padding: 20px;
      width: 90%;
      max-width: 600px;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 0 30px rgba(0, 153, 255, 0.3);
      transform: scale(0.8);
      transition: transform 0.3s ease;
    }
    
    .modal.active .modal-content {
      transform: scale(1);
    }
    
    .modal-header {
      border-bottom: 1px solid var(--research);
      padding-bottom: 10px;
      margin-bottom: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .modal-title {
      font-size: 1.2rem;
      text-transform: uppercase;
      color: var(--research);
    }
    
    .close-btn {
      background: var(--research-dark);
      border: 1px solid var(--research);
      color: var(--research);
      padding: 5px 10px;
      cursor: pointer;
      transition: var(--transition);
      font-family: inherit;
    }
    
    .close-btn:hover {
      background: var(--research);
      color: var(--bg);
    }
    
    .modal-body {
      color: var(--research);
    }
    
    /* System Feedback - Fixed */
    .system-feedback {
      position: fixed;
      bottom: 20px;
      left: 20px;
      right: 20px;
      background: rgba(0, 20, 30, 0.4);
      border: 1px solid var(--research);
      padding: 10px;
      font-size: 0.85rem;
      line-height: 1.4;
      color: var(--research);
      z-index: 1000;
    }
    
    .system-feedback.deleting {
      overflow: hidden;
    }
    
    .system-feedback .delete-line {
      display: block;
      white-space: nowrap;
      overflow: hidden;
      position: relative;
      margin: 2px 0;
      background: rgba(0, 20, 30, 0.4);
    }
    
    /* Access Denied Popup */
    .access-denied-popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(10, 0, 0, 0.95);
      border: 2px solid var(--error);
      color: var(--error);
      padding: 40px;
      z-index: 10000;
      font-size: clamp(1.5rem, 4vw, 2.5rem);
      text-align: center;
      text-transform: uppercase;
      font-weight: bold;
      opacity: 0;
      visibility: hidden;
      transition: all 0.5s ease;
      box-shadow: 0 0 30px rgba(255, 51, 51, 0.5);
      animation: glitch-popup 0.2s infinite;
      scale: 0.8;
    }
    
    .access-denied-popup.active {
      opacity: 1;
      visibility: visible;
      scale: 1;
    }
    
    .access-denied-popup.fade-out {
      opacity: 0;
      scale: 0.8;
    }
    
    @keyframes glitch-popup {
      0%, 90%, 100% { transform: translate(-50%, -50%); }
      95% { transform: translate(-50%, -51%); }
    }
    
    /* Warning message */
    #warning {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 0, 0, 0.9);
      color: white;
      display: none;
      justify-content: center;
      align-items: center;
      font-size: 2em;
      z-index: 9999;
      text-align: center;
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      .button-panel {
        grid-template-columns: 1fr;
      }
      
      .terminal {
        min-height: 300px;
      }
      
      .modal-content {
        width: 95%;
        padding: 15px;
      }
      
      .shutdown-button {
        grid-column: span 1;
      }
    }
    
    @media (max-width: 480px) {
      .terminal-line {
        white-space: normal;
        border-right: none;
        animation: none;
      }
      
      .system-feedback {
        font-size: 0.75rem;
        bottom: 10px;
        left: 10px;
        right: 10px;
      }
    }
  </style>
</head>
<body class="crt-effect">
  <!-- Warning message -->
  <div id="warning">
    <div>
      <h1>UYARI!</h1>
      <p>Bu sayfada geliştirici araçları kullanmaya çalıştığınız tespit edildi!</p>
      <p>Güvenlik protokolleri aktif!</p>
    </div>
  </div>

  <!-- Audio elements -->
  <audio id="openSound" preload="none">
    <source src="sounds/open.mp3" type="audio/mpeg">
  </audio>
  
  <audio id="closeSound" preload="none">
    <source src="sounds/close.mp3" type="audio/mpeg">
  </audio>
  
  <audio id="accessDeniedSound" preload="none">
    <source src="sounds/accesdenied.mp3" type="audio/mpeg">
  </audio>
  
  <audio id="accessGrantedSound" preload="none">
    <source src="sounds/accessgranted.mp3" type="audio/mpeg">
  </audio>
  
  <audio id="backgroundMusic" preload="none" loop>
    <source src="sounds/backgroundmusic4.mp3" type="audio/mpeg">
  </audio>
  
  
  <audio id="lockdownSound" preload="none" loop>
    <source src="sounds/lockdown.mp3" type="audio/mpeg">
  </audio>

  <audio id="typingDeleteSound" preload="none">
    <source src="sounds/type.mp3" type="audio/mpeg">
  </audio>

  <!-- Intro Screen -->
  <div class="intro-screen" id="introScreen">
    <div class="intro-text">ACCESSING PHOENIX INDUSTRIES</div>
    <div class="intro-subtext">Research Division</div>
  </div>

  <!-- Security Modal -->
  <div class="security-modal" id="securityModal">
    <div class="security-denied-text" id="securityDeniedText">ACCESS DENIED</div>
    <div class="security-granted-text" id="securityGrantedText">ACCESS GRANTED</div>
    <div class="security-login" id="securityLogin">
      <div class="security-title">CLASSIFIED ACCESS REQUIRED</div>
      <form id="securityForm">
        <input type="password" class="security-input" id="securityInput" placeholder="Enter Security Code" required>
        <br>
        <button type="submit" class="security-button">AUTHENTICATE</button>
      </form>
      <div class="security-attempts" id="securityAttempts"></div>
    </div>
  </div>

  <!-- Access Denied Popup -->
  <div class="access-denied-popup" id="accessDeniedPopup">
    ACCESS DENIED
  </div>

  <!-- Shutdown Screen -->
  <div class="shutdown-screen" id="shutdownScreen">
    <div class="shutdown-text">SYSTEM SHUTDOWN</div>
    <div class="shutdown-text" style="font-size: 1.5rem;">TERMINATING ALL PROCESSES...</div>
    <div class="shutdown-progress">
      <div class="shutdown-progress-bar"></div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content" id="mainContent">
    <div class="research-header">
      <div class="research-title" id="researchTitle">RESEARCH DIVISION - LEVEL 7</div>
      <div id="researchSubtitle">MULTIVERSAL ANOMALY INVESTIGATION</div>
    </div>

    <div class="terminal">
      <div class="terminal-line research-glitch" data-text="> RESEARCH LOG: Multiversal Entity Analysis Started">> RESEARCH LOG: Multiversal Entity Analysis Started</div>
      <div class="terminal-line research-glitch" data-text="> SUBJECT: Unknown origin - Non-native reality signature detected">> SUBJECT: Unknown origin - Non-native reality signature detected</div>
      <div class="terminal-line research-glitch" data-text="> DIMENSIONAL FREQUENCY: [CLASSIFIED] Hz">> DIMENSIONAL FREQUENCY: [CLASSIFIED] Hz</div>
      <div class="terminal-line research-glitch" data-text="> QUANTUM RESONANCE: Unstable - Recommend containment protocols">> QUANTUM RESONANCE: Unstable - Recommend containment protocols</div>
      <div class="terminal-line research-glitch" data-text="> RESEARCH STATUS: Active monitoring of reality distortions">> RESEARCH STATUS: Active monitoring of reality distortions</div>
      <div class="terminal-line research-glitch" data-text="> WARNING: Subject may possess knowledge of extinct timeline branches">> WARNING: Subject may possess knowledge of extinct timeline branches</div>
    </div>

    <div class="button-panel">
      <button class="system-button" data-modal="entity-analysis">Entity Analysis</button>
      <button class="system-button" data-modal="dimensional-data">Dimensional Data</button>
      <button class="system-button" data-modal="research-notes">Research Notes</button>
      <button class="system-button button-lockdown" data-security="containment">Containment Protocols</button>
      <button class="system-button" data-modal="timeline-fragments">Timeline Fragments</button>
      <button class="system-button button-lockdown" data-security="quantum-readings">Quantum Readings</button>
      <button class="system-button button-lockdown" data-security="classified-experiments">Classified Experiments</button>
      <button class="system-button button-lockdown" data-security="director-files">Director Files</button>
      <button class="system-button" data-modal="hypothesis">Working Hypothesis</button>
      <button class="system-button" data-modal="recommendations">Recommendations</button>
      <button class="shutdown-button" id="shutdownButton">SYSTEM SHUTDOWN</button>
    </div>

    <div class="system-feedback">
      > RESEARCH DIVISION LOG: "Multiversal breach analysis in progress - Subject exhibits non-standard reality patterns"
      <br>> STATUS: "Dimensional stability monitoring active - Anomalous readings detected"
      <br>> NOTE: "Subject's existence may be evidence of successful reality traversal technology"
    </div>
  </div>

  <!-- Modals -->
  <div class="modal" id="modalEntityAnalysis">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">ENTITY ANALYSIS</h2>
        <button class="close-btn" aria-label="Close modal">&times;</button>
      </div>
      <div class="modal-body">
        <p>> Subject Classification: Multiversal Traveler</p>
        <p>> Origin Point: Unknown - Extinct timeline suspected</p>
        <p>> Consciousness Pattern: Non-standard quantum signature</p>
        <p>> Temporal Displacement: [CALCULATING...]</p>
        <p>> Risk Assessment: UNKNOWN - Unprecedented case</p>
      </div>
    </div>
  </div>

  <div class="modal" id="modalDimensionalData">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">DIMENSIONAL DATA</h2>
        <button class="close-btn" aria-label="Close modal">&times;</button>
      </div>
      <div class="modal-body">
        <p>> Reality Frequency: 2.847 × 10^23 Hz</p>
        <p>> Dimensional Phase: Out of sync by 0.003%</p>
        <p>> Quantum Entanglement Patterns: Anomalous</p>
        <p>> Timeline Branch: [EXTINCT] - Branch Δ-7734</p>
        <p>> Causal Loop Status: STABLE</p>
      </div>
    </div>
  </div>

  <div class="modal" id="modalResearchNotes">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">RESEARCH NOTES</h2>
        <button class="close-btn" aria-label="Close modal">&times;</button>
      </div>
      <div class="modal-body">
        <p>> Day 1: First detection of anomalous entity</p>
        <p>> Day 3: Confirmed multiversal origin - impossible by current physics</p>
        <p>> Day 7: Entity shows awareness of systems beyond their timeline</p>
        <p>> Day 12: Quantum signature remains stable despite impossibility</p>
        <p>> Day 18: Requesting higher clearance for advanced testing protocols</p>
      </div>
    </div>
  </div>

  <div class="modal" id="modalContainment">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">CONTAINMENT PROTOCOLS</h2>
        <button class="close-btn" aria-label="Close modal">&times;</button>
      </div>
      <div class="modal-body">
        <p>> Protocol Alpha: Passive monitoring - ACTIVE</p>
        <p>> Protocol Beta: Reality anchor deployment - STANDBY</p>
        <p>> Protocol Gamma: Emergency termination - ARMED</p>
        <p>> Containment Field: Quantum isolation chamber prepared</p>
        <p>> Failsafe: Dimensional expulsion system ready</p>
      </div>
    </div>
  </div>

  <div class="modal" id="modalTimelineFragments">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">TIMELINE FRAGMENTS</h2>
        <button class="close-btn" aria-label="Close modal">&times;</button>
      </div>
      <div class="modal-body">
        <p>> Fragment 001: "The sky turned red when the machines stopped working"</p>
        <p>> Fragment 017: "Everyone just... vanished. I was the only one left."</p>
        <p>> Fragment 093: "The research facility was underground, but the surface..."</p>
        <p>> Fragment 156: "We called it the Phoenix Project, but it became our tomb"</p>
        <p>> Fragment Status: [VERIFIED] - Timeline Δ-7734 confirmed extinct</p>
      </div>
    </div>
  </div>

  <div class="modal" id="modalQuantumReadings">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">QUANTUM READINGS</h2>
        <button class="close-btn" aria-label="Close modal">&times;</button>
      </div>
      <div class="modal-body">
        <p>> Quantum Coherence: 87.3% (Anomalously high)</p>
        <p>> Probability Wave Collapse: Delayed by 3.7 nanoseconds</p>
        <p>> Schrödinger Variance: ±0.001% (Impossible precision)</p>
        <p>> Heisenberg Uncertainty: Violated by factor of 10^6</p>
        <p>> Conclusion: Subject exists in quantum superposition with extinct reality</p>
      </div>
    </div>
  </div>

  <div class="modal" id="modalClassifiedExperiments">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">CLASSIFIED EXPERIMENTS</h2>
        <button class="close-btn" aria-label="Close modal">&times;</button>
      </div>
      <div class="modal-body">
        <p>> Experiment Alpha-1: Reality frequency analysis - COMPLETE</p>
        <p>> Experiment Beta-7: Quantum consciousness mapping - IN PROGRESS</p>
        <p>> Experiment Gamma-3: Timeline extraction protocols - PENDING APPROVAL</p>
        <p>> Experiment Delta-9: Dimensional anchor testing - CLASSIFIED</p>
        <p>> Risk Level: EXTREME - All personnel maintain minimum safe distance</p>
      </div>
    </div>
  </div>

  <div class="modal" id="modalDirectorFiles">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">DIRECTOR FILES</h2>
        <button class="close-btn" aria-label="Close modal">&times;</button>
      </div>
      <div class="modal-body">
        <p>> DIRECTOR'S NOTE: This entity represents either our greatest discovery or greatest threat</p>
        <p>> AUTHORIZATION: All research protocols approved under Emergency Directive 7734</p>
        <p>> SECURITY LEVEL: OMEGA - Information compartmentalized to Level 9+ personnel only</p>
        <p>> CONTINGENCY: Project RESET activated if containment fails</p>
        <p>> STATUS: Subject must not be made aware of their unique nature</p>
      </div>
    </div>
  </div>

  <div class="modal" id="modalHypothesis">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">WORKING HYPOTHESIS</h2>
        <button class="close-btn" aria-label="Close modal">&times;</button>
      </div>
      <div class="modal-body">
        <p>> Theory: Subject is sole survivor of Timeline Branch Δ-7734</p>
        <p>> Mechanism: Unknown technology enabled reality traversal</p>
        <p>> Purpose: Possibly seeking new timeline to inhabit</p>
        <p>> Danger Level: Moderate to High - Unpredictable outcomes</p>
        <p>> Research Priority: MAXIMUM - First confirmed multiversal entity</p>
      </div>
    </div>
  </div>

  <div class="modal" id="modalRecommendations">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">RECOMMENDATIONS</h2>
        <button class="close-btn" aria-label="Close modal">&times;</button>
      </div>
      <div class="modal-body">
        <p>> 1. Continue passive monitoring - DO NOT ENGAGE directly</p>
        <p>> 2. Document all interactions for multiversal research</p>
        <p>> 3. Prepare contingency protocols for timeline contamination</p>
        <p>> 4. Request Director-level authorization for communication attempts</p>
        <p>> 5. Study subject's technology for potential defensive applications</p>
      </div>
    </div>
  </div>

  <script>
    class ResearchTerminal {
      constructor() {
        this.openSound = document.getElementById('openSound');
        this.closeSound = document.getElementById('closeSound');
        this.accessDeniedSound = document.getElementById('accessDeniedSound');
        this.accessGrantedSound = document.getElementById('accessGrantedSound');
        this.backgroundMusic = document.getElementById('backgroundMusic');
        this.lockdownSound = document.getElementById('lockdownSound');
        this.typingDeleteSound = document.getElementById('typingDeleteSound');
        this.introScreen = document.getElementById('introScreen');
        this.mainContent = document.getElementById('mainContent');
        this.accessDeniedPopup = document.getElementById('accessDeniedPopup');
        this.securityModal = document.getElementById('securityModal');
        this.securityLogin = document.getElementById('securityLogin');
        this.securityForm = document.getElementById('securityForm');
        this.securityInput = document.getElementById('securityInput');
        this.securityAttempts = document.getElementById('securityAttempts');
        this.securityDeniedText = document.getElementById('securityDeniedText');
        this.securityGrantedText = document.getElementById('securityGrantedText');
        this.researchTitle = document.getElementById('researchTitle');
        this.researchSubtitle = document.getElementById('researchSubtitle');
        this.shutdownButton = document.getElementById('shutdownButton');
        this.shutdownScreen = document.getElementById('shutdownScreen');
        
        this.failedAttempts = 0;
        this.maxAttempts = 3;
        this.isLocked = false;
        this.pendingAction = null;
        this.finalLockdownStarted = false;
        this.buttonsDisabled = false;
        this.cooldownButtons = new Set();
        
        this.init();
      }
      
      init() {
        this.setupAudio();
        this.setupEventListeners();
        this.startIntroSequence();
      }
      
      setupAudio() {
        this.openSound.volume = 0.3;
        this.closeSound.volume = 0.3;
        this.accessDeniedSound.volume = 0.4;
        this.accessGrantedSound.volume = 0.5;
        this.backgroundMusic.volume = 0.15;
        this.typingDeleteSound.volume = 0.1;
        this.lockdownSound.volume = 0.1;
        // Start background music after user interaction
        document.addEventListener('click', this.startBackgroundMusic.bind(this), { once: true });
        document.addEventListener('keydown', this.startBackgroundMusic.bind(this), { once: true });
      }
      
      startBackgroundMusic() {
        this.backgroundMusic.play().catch(console.warn);
      }
      
      setupEventListeners() {
        // System buttons
        document.addEventListener('click', (e) => {
          if (e.target.matches('[data-modal]') && !this.isButtonDisabled(e.target)) {
            this.playOpenSound();
            this.addButtonCooldown(e.target);
            this.showModal(e.target.dataset.modal);
          }
          
          if (e.target.matches('[data-security]') && !this.isButtonDisabled(e.target)) {
            // Check if user has sufficient security clearance
            const securityLevel = localStorage.getItem('securityLevel');
            if (securityLevel === 'low') {
              this.showAccessDenied();
              return;
            }
            
            this.playOpenSound();
            this.addButtonCooldown(e.target);
            this.requestSecurity(e.target.dataset.security);
          }
          
          // Handle locked buttons after lockdown
          if ((e.target.matches('[data-modal]') || e.target.matches('[data-security]')) && this.finalLockdownStarted) {
            this.showAccessDenied();
          }
          
          if (e.target.matches('[data-action]')) {
            this.playOpenSound();
            this.handleAction(e.target.dataset.action, e.target.dataset.name);
          }
          
          if (e.target.matches('.close-btn')) {
            this.playCloseSound();
            this.closeModal(e.target.closest('.modal'));
          }
        });
        
        // Shutdown button
        this.shutdownButton.addEventListener('click', () => {
          if (!this.isButtonDisabled(this.shutdownButton) && !this.shutdownButton.disabled) {
            this.initiateShutdown();
          }
        });
        
        // Security form
        this.securityForm.addEventListener('submit', (e) => {
          e.preventDefault();
          this.authenticateSecurity();
        });
        
        // Close modal on backdrop click
        document.addEventListener('click', (e) => {
          if (e.target.matches('.modal')) {
            this.playCloseSound();
            this.closeModal(e.target);
          }
          
          if (e.target.matches('.security-modal')) {
            this.closeSecurityModal();
          }
        });
        
        // ESC key to close modals
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape') {
            const activeModal = document.querySelector('.modal.active');
            if (activeModal) {
              this.playCloseSound();
              this.closeModal(activeModal);
            } else if (this.securityModal.classList.contains('active')) {
              this.closeSecurityModal();
            }
          }
        });
      }
      
      isButtonDisabled(button) {
        return this.isLocked || this.buttonsDisabled || this.cooldownButtons.has(button) || 
               button.classList.contains('locked') || button.classList.contains('cooldown') ||
               button.classList.contains('permanently-locked');
      }
      
      addButtonCooldown(button) {
          const allButtons = document.querySelectorAll('.system-button, .shutdown-button');
          allButtons.forEach(btn => {
           this.cooldownButtons.add(btn);
           btn.classList.add('cooldown');
       });

       setTimeout(() => {
       // Cooldown süresi sonunda tüm butonları tekrar etkinleştir
         allButtons.forEach(btn => {
           this.cooldownButtons.delete(btn);
           btn.classList.remove('cooldown');
         });
         }, 1500); // 1.5 saniyelik cooldown
      }
      
      playOpenSound() {
        this.openSound.currentTime = 0;
        this.openSound.play().catch(console.warn);
      }
      
      playCloseSound() {
        this.closeSound.currentTime = 0;
        this.closeSound.play().catch(console.warn);
      }
      
      playAccessDeniedSound() {
        this.accessDeniedSound.currentTime = 0;
        this.accessDeniedSound.play().catch(console.warn);
      }
      
      playAccessGrantedSound() {
        this.accessGrantedSound.currentTime = 0;
        this.accessGrantedSound.play().catch(console.warn);
      }
      
      playlockdownSound() {
        this.lockdownSound.currentTime = 0;
        this.lockdownSound.play().catch(console.warn);
      }
      
      playTypingDeleteSound() {
        this.typingDeleteSound.currentTime = 0;
        this.typingDeleteSound.play().catch(console.warn);
      }
      
      startIntroSequence() {
        setTimeout(() => {
          this.introScreen.classList.add('fade-out');
          setTimeout(() => {
            this.introScreen.style.display = 'none';
            this.showMainContent();
          }, 1000);
        }, 3000);
      }
      
      showMainContent() {
        setTimeout(() => {
          this.mainContent.classList.add('active');
        }, 500);
      }
      
      requestSecurity(action) {
        this.pendingAction = action;
        this.playAccessDeniedSound(); // Play access denied sound when security button is pressed
        this.securityModal.classList.add('active');
        
        setTimeout(() => {
          this.securityLogin.classList.add('active');
          this.securityInput.focus();
        }, 3000);
      }
      
      authenticateSecurity() {
        const password = this.securityInput.value.toLowerCase();
        
        if (password === 'enclave') {
          // Show ACCESS GRANTED
          this.securityLogin.classList.remove('active');
          this.securityDeniedText.style.display = 'none';
          this.securityGrantedText.classList.add('active');
          this.playAccessGrantedSound();
          
          setTimeout(() => {
            this.securityModal.classList.remove('active');
            this.securityGrantedText.classList.remove('active');
            this.securityDeniedText.style.display = 'block';
            this.securityInput.value = '';
            this.failedAttempts = 0;
            this.securityAttempts.textContent = '';
            
            // Execute the pending action
            if (this.pendingAction) {
              this.showModal(this.pendingAction);
              this.pendingAction = null;
            }
          }, 2000);
        } else {
          this.failedAttempts++;
          this.securityInput.value = '';
          this.securityInput.style.borderColor = 'var(--error)';
          this.securityAttempts.textContent = `Failed attempts: ${this.failedAttempts}/${this.maxAttempts}`;
          
          setTimeout(() => {
            this.securityInput.style.borderColor = 'var(--error)';
          }, 1000);
          
          if (this.failedAttempts >= this.maxAttempts) {
            this.initiateLockdown();
          }
        }
      }
      
      closeSecurityModal() {
        this.securityModal.classList.remove('active');
        this.securityLogin.classList.remove('active');
        this.securityInput.value = '';
        this.pendingAction = null;
      }
      
      initiateLockdown() {
        this.isLocked = true;
        this.buttonsDisabled = true;
        // Disable shutdown button during lockdown
        this.shutdownButton.classList.add('locked');
        this.shutdownButton.disabled = true;
        this.backgroundMusic.pause();
        this.playlockdownSound();
        this.securityModal.classList.remove('active');
        this.securityLogin.classList.remove('active');
        
        // Change security modal to lockdown message
        this.securityDeniedText.textContent = 'SYSTEM LOCKDOWN INITIATED';
        this.securityDeniedText.className = 'lockdown-text';
        
        // Show lockdown message
        this.securityModal.classList.add('active');
        
        setTimeout(() => {
          this.securityDeniedText.textContent = 'DATA PROTECTION PROTOCOL ACTIVE';
          setTimeout(() => {
            this.securityModal.classList.remove('active');
            this.startDataErasure();
          }, 2000);
        }, 3000);
      }
      
      startDataErasure() {
        // 1. Erase system feedback with fixed typing effect
        const feedback = document.querySelector('.system-feedback');
        this.eraseTextFixed(feedback);
        
        // 2. Hide secured buttons
        setTimeout(() => {
          const securedButtons = document.querySelectorAll('.button-lockdown');
          securedButtons.forEach(button => {
            button.classList.add('locked');
          });
        }, 2000);
        
        // 3. Scramble research terminal text (fixed)
        setTimeout(() => {
          this.scrambleResearchDataFixed();
        }, 4000);
        
        // 4. Change header text
        setTimeout(() => {
          this.changeHeaderText();
        }, 8000);
        
        // 5. Re-enable buttons after shutdown protocol completes
        setTimeout(() => {
          this.buttonsDisabled = false;
          this.finalLockdownStarted = true;
          // Re-enable shutdown button after lockdown
          this.shutdownButton.classList.remove('locked');
          this.shutdownButton.disabled = false;
        }, 60000); // 60 seconds
        
        // 6. Redirect to index.html after 68 seconds
        setTimeout(() => {
          window.location.href = 'index.html';
        }, 68000); // 68 seconds total
      }
      
      eraseTextFixed(element) {
        const originalContent = element.innerHTML;
        const lines = originalContent.split('<br>');
        
        element.classList.add('deleting');
        element.innerHTML = '';
        
        lines.forEach((line, index) => {
          const lineDiv = document.createElement('div');
          lineDiv.className = 'delete-line';
          lineDiv.innerHTML = line;
          element.appendChild(lineDiv);
          
          setTimeout(() => {
            let width = 100;
            const eraseInterval = setInterval(() => {
              this.playTypingDeleteSound(); // Play sound for each character deletion
              width -= 2;
              lineDiv.style.width = width + '%';
              if (width <= 0) {
                clearInterval(eraseInterval);
                lineDiv.innerHTML = '';
              }
            }, 50);
          }, index * 500);
        });
      }
      
      scrambleResearchDataFixed() {
        const terminalLines = document.querySelectorAll('.terminal-line');
        
        terminalLines.forEach((line, index) => {
          setTimeout(() => {
            const originalText = line.textContent;
            line.classList.add('scrambling'); // Disable glitch effects
            
            // Start scrambling
            let scrambleCount = 0;
            const scrambleInterval = setInterval(() => {
              const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()';
              let scrambled = '';
              for (let i = 0; i < originalText.length; i++) {
                if (originalText[i] === ' ') {
                  scrambled += ' ';
                } else {
                  scrambled += chars[Math.floor(Math.random() * chars.length)];
                 this.playTypingDeleteSound();
                }
              }
              line.textContent = scrambled;
              
              scrambleCount++;
              if (scrambleCount > 10) {
                clearInterval(scrambleInterval);
                line.textContent = '[REDACTED]';
              }
            }, 100);
          }, index * 300);
        });
      }
      
      changeHeaderText() {
        // Change research title
        this.scrambleAndChangeText(this.researchTitle, 'ALL DOCUMENTS UPGRADED TO [LEVEL OMEGA]', () => {
          // After 8 seconds, change to final message
          setTimeout(() => {
            this.scrambleAndChangeText(this.researchTitle, 'SYSTEMS UNDER TEMPORARY LOCKDOWN, ALL DOCUMENTS RECLASSIFIED AS CLASSIFIED. LOGOUT PROTOCOL INITIATED IN T-68. ', () => {
              this.finalLockdownStarted = true;
            });
          }, 8000);
        });
        
        // Change subtitle
        setTimeout(() => {
          this.scrambleAndChangeText(this.researchSubtitle, 'SECURITY PROTOCOLS ACTIVE');
        }, 2000);
      }
      
      scrambleAndChangeText(element, newText, callback) {
        const originalText = element.textContent;
        let scrambleCount = 0;
        
        const scrambleInterval = setInterval(() => {
          const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()';
          let scrambled = '';
          for (let i = 0; i < Math.max(originalText.length, newText.length); i++) {
            scrambled += chars[Math.floor(Math.random() * chars.length)];
           this.playTypingDeleteSound();
          }
          element.textContent = scrambled;
          scrambleCount++;
          if (scrambleCount > 15) {
            clearInterval(scrambleInterval);
            element.textContent = newText;
            if (callback) callback();
          }
        }, 100);
      }
      
      initiateShutdown() {
        this.addButtonCooldown(this.shutdownButton);
        this.playAccessDeniedSound();
        this.shutdownScreen.classList.add('active');
        
        // Stop background music and play shutdown sounds
        this.backgroundMusic.pause();
        
        setTimeout(() => {
          window.location.href = 'index.html';
        }, 4000); // 4 seconds for shutdown animation
      }
      
      showModal(modalType) {
        const modal = document.getElementById(`modal${this.toPascalCase(modalType)}`);
        if (modal) {
          modal.classList.add('active');
          // Focus management for accessibility
          const closeBtn = modal.querySelector('.close-btn');
          if (closeBtn) closeBtn.focus();
        }
      }
      
      closeModal(modal) {
        modal.classList.remove('active');
      }
      
      showAccessDenied() {
        this.playAccessDeniedSound();
        this.accessDeniedPopup.classList.remove('fade-out');
        this.accessDeniedPopup.classList.add('active');
        
        setTimeout(() => {
          this.accessDeniedPopup.classList.add('fade-out');
          setTimeout(() => {
            this.accessDeniedPopup.classList.remove('active', 'fade-out');
          }, 500);
        }, 2500);
      }
      
      handleAction(action, name) {
        if (action === 'denied') {
          this.showAccessDenied();
          return;
        }
      }
      
      toPascalCase(str) {
        return str.split('-').map(word => 
          word.charAt(0).toUpperCase() + word.slice(1)
        ).join('');
      }
    }
    
    // Initialize system when DOM is loaded
    document.addEventListener('DOMContentLoaded', () => {
      new ResearchTerminal();
    });
    
    // Terminal line animation delays
    document.addEventListener('DOMContentLoaded', () => {
      const lines = document.querySelectorAll('.terminal-line');
      lines.forEach((line, index) => {
        line.style.animationDelay = `${index * 0.5}s`;
      });
    });
  </script>
</body>
</html>